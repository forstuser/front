<div *ngIf="showForm">
  <div class="row clearfix">
    <div class="col-md-6">
      <p><b>Bill No : </b>{{ consumerBill?.BillNo }}</p>
      <p><b>Name : </b>{{ consumerBill?.Name }}</p>
    </div>
    <div class="col-md-6">
      <p><b>Email : </b>{{ consumerBill?.EmailID }}</p>
      <p><b>Phone No : </b>{{ consumerBill?.PhoneNo }}</p>
    </div>
  </div>
  <div class="card">
    <div class="header padding_fix">
      <p><b>
      Previous Bills
    </b></p>
    </div>
    <div class="body table-responsive">
      <table class="table table-condensed">
        <thead>
          <tr>
            <th><small>Invoice</small></th>
            <th><small>Name</small></th>
            <th><small>Phone</small></th>
            <th><small>Purchase Date</small></th>
            <th><small>Total Amount</small></th>
            <th><small>Action</small></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let bill of consumerBill?.Detail">
            <th><small>{{ bill.Invoice }}</small></th>
            <th><small>{{ bill.Name }}</small></th>
            <th><small>{{ bill.Phone }}</small></th>
            <th><small>{{ bill.PurchaseDate | date }}</small></th>
            <th><small>{{ bill.TotalAmount }}</small></th>
            <th><small><span class="btn btn-info btn-xs" (click)="editPreBill(bill)" title="Edit"><i class="material-icons" >mode_edit</i></span></small></th>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="row clearfix">
    <div class="col-md-12">
      <button class="btn bg-indigo btn-block btn-lg" (click)="openGeneralForm()">Add New Bill</button>
    </div>
  </div>
</div>

<!-- general form start -->
<div *ngIf="showGeneralForm">
  <form #generalInfoForm="ngForm" (ngSubmit)="generalFormData(generalInfoForm)">
    <h4>
      <u>General</u>
      <u>Information </u>
    </h4>
    <hr>
    <div class="row clearfix">
      <div class="col-lg-2 col-md-2 col-sm-4 col-xs-5 form-control-label">
        <small><b>Bill Image</b></small>
      </div>
      <div class="col-lg-4 col-md-4">
        <div class="form-group">
          <div class="form-line">
            <input type="text" name="BillImage" class="form-control input_fix" ngModel>
          </div>
        </div>
      </div>
      <div class="col-lg-2 col-md-2 col-sm-4 col-xs-5 form-control-label">
        <small><b>Name : </b></small>
      </div>
      <div class="col-lg-4 col-md-4">
        <div class="form-group">
          <div class="form-line">
            <input type="text" name="Name" class="form-control input_fix" ngModel>
          </div>
        </div>
      </div>
    </div>
    <div class="row clearfix">
      <div class="col-lg-2 col-md-2 col-sm-4 col-xs-5 form-control-label">
        <small><b>Phone No</b></small>
      </div>
      <div class="col-lg-4 col-md-4 ">
        <div class="form-group">
          <div class="form-line">
            <input type="text" name="PhoneNo" class="form-control input_fix" ngModel>
          </div>
        </div>
      </div>
      <div class="col-lg-2 col-md-2 col-sm-4 col-xs-5 form-control-label">
        <small><b>Email ID : </b></small>
      </div>
      <div class="col-lg-4 col-md-4">
        <div class="form-group">
          <div class="form-line">
            <input type="text" name="EmailID" class="form-control input_fix" ngModel>
          </div>
        </div>
      </div>
    </div>
    <div class="row clearfix">
      <div class="col-lg-2 col-md-2 col-sm-4 col-xs-5 form-control-label">
        <small><b>Invoice Number: </b></small>
      </div>
      <div class="col-lg-4 col-md-4">
        <div class="form-group">
          <div class="form-line">
            <input type="text" name="InvoiceNo" class="form-control input_fix" ngModel>
          </div>
        </div>
      </div>
      <div class="col-lg-2 col-md-2 col-sm-4 col-xs-5 form-control-label">
        <small><b>Total Value :</b></small>
      </div>
      <div class="col-lg-4 col-md-4 ">
        <div class="form-group">
          <div class="form-line">
            <input type="text" name="TotalValue" class="form-control input_fix" ngModel>
          </div>
        </div>
      </div>
    </div>
    <div class="row clearfix">
      <div class="col-lg-2 col-md-2 col-sm-4 col-xs-5 form-control-label">
        <small><b>Taxes </b></small>
      </div>
      <div class="col-lg-4 col-md-4">
        <div class="form-group">
          <div class="form-line">
            <input type="text" name="Taxes" class="form-control input_fix" ngModel>
          </div>
        </div>
      </div>
      <div class="col-lg-2 col-md-2 col-sm-4 col-xs-5 form-control-label">
        <small><b>Date of Purchase :</b></small>
      </div>
      <div class="col-lg-4 col-md-4 ">
        <div class="form-group">
          <div class="form-line">
            <input type="text" name="DateofPurchase" class="form-control input_fix" ngModel>
          </div>
        </div>
      </div>
    </div>
    <div class="row clearfix">
      <div class="col-md-12">
        <button class="btn bg-green btn-block btn-lg" type="submit">Add Seller</button>
      </div>
    </div>
  </form>
</div>
<!-- general form end -->

<!-- seller form start -->
<div *ngIf="showSellerForm">
  <h4>
    <u>Seller</u>
    <u>Information </u>
  </h4>
  <form #sellerForm="ngForm" (ngSubmit)="sellerFormData(sellerForm)">
    <div class="row clearfix">
      <div class="col-lg-4 col-md-4 col-sm-4 col-xs-5 form-control-label">
        <label>Select Online Seller</label>
      </div>
      <div class="col-lg-3 col-md-3 col-sm-8 col-xs-7">
        <div class="form-group">
          <select class="form-control dropdown" name="OnlineSellerID" ngModel (change)="addOnlineSeller($event.target.value)">
            <option *ngFor = "let seller of onlineSellerList?.SellerList" value="{{seller.ID}}">{{ seller.Name }}</option>
          </select>
        </div>
      </div>
      <div class="col-lg-2 col-md-2 col-sm-2 col-xs-5 form-control-label">
      </div>
    </div>
    <div class="row clearfix">
      <div class="col-lg-4 col-md-4 col-sm-4 col-xs-5 form-control-label">
        <label>Select offline Seller</label>
      </div>
      <div class="col-lg-3 col-md-3 col-sm-8 col-xs-7">
        <div class="form-group">
          <select class="form-control dropdown" [(ngModel)]="addOfflineSeller" name="Sellers">
            <option *ngFor = "let seller of offlineSellerList?.OfflineSellerList"  ngValue="{{ seller.ID }}">{{ seller.Name }}</option>
          </select>
        </div>
      </div>
      <div class="col-lg-2 col-md-2 col-sm-4 col-xs-5 form-control-label">
        <div class="form-group">
          <button type="button" class="btn btn-md btn-success m-t-3 waves-effect" (click)="addOfflineSellerToList(addOfflineSeller)">Add</button>
        </div>
      </div>
    </div>
    <div class="row clearfix">
      <div class="card">
        <div class="header padding_fix">
          <h2>
            Offline Seller List
            <small>Click on Edit button for edit seller</small>
          </h2>
        </div>
        <div class="body table-responsive">
          <table class="table table-condensed">
            <thead>
              <tr>
                <th><small>ID</small></th>
                <!-- <th><small>Name</small></th> -->
                <th><small>Action</small></th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let list of addedOfflineSeller">
                <th><small>{{ list }}</small></th>
                <!-- <th><small>{{ bill.Name }}</small></th> -->
                <th><small><span class="btn btn-danger btn-xs" (click)="deleteSellerFromList(list)" title="Delete"><i class="material-icons">delete</i></span></small></th>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="row clearfix">
      <div class="col-md-12">
        <button class="btn bg-green btn-block btn-lg" type="submit">Add Product</button>
      </div>
    </div>
  </form>
</div>
<!-- seller form end -->

<!-- Product General Form Start -->
<div *ngIf="showProductFormList">
  <h4>
    <u>Product</u>
    <u>Information </u>
  </h4>
  <hr>
  <form #productInfoForm="ngForm" (ngSubmit)="productInfoFormData(productInfoForm)">
    <div class="row clearfix">
      <div class="col-lg-2 col-md-2 col-sm-4 col-xs-5 form-control-label">
        <small><b>Product Name</b></small>
      </div>
      <div class="col-lg-4 col-md-4">
        <div class="form-group">
          <div class="form-line">
            <input type="text" name="ProductName" class="form-control input_fix" ngModel>
          </div>
        </div>
      </div>
      <div class="col-lg-2 col-md-2 col-sm-4 col-xs-5 form-control-label">
        <small><b>Value</b></small>
      </div>
      <div class="col-lg-4 col-md-4 ">
        <div class="form-group">
          <div class="form-line">
            <input type="text" name="Value" class="form-control input_fix" ngModel>
          </div>
        </div>
      </div>
    </div>
    <div class="row clearfix">
      <div class="col-lg-2 col-md-2 col-sm-4 col-xs-5 form-control-label">
        <small><b>Taxes</b></small>
      </div>
      <div class="col-lg-4 col-md-4">
        <div class="form-group">
          <div class="form-line">
            <input type="text" name="Taxes" class="form-control input_fix" ngModel>
          </div>
        </div>
      </div>
      <div class="col-lg-2 col-md-2 col-sm-4 col-xs-5 form-control-label">
        <small><b>Color</b></small>
      </div>
      <div class="col-lg-4 col-md-4">
        <div class="form-group">
          <select class="form-control dropdown" name="ColorID" ngModel>
                  <option>Select</option>
                    <option *ngFor = "let color of colorList?.ColorList" ngValue="{{color.ID}}">{{ color.Name }}</option>
                </select>
        </div>
      </div>
    </div>
    <div class="row clearfix">
      <div class="col-lg-2 col-md-2 col-sm-4 col-xs-5 form-control-label">
        <small><b>Brand</b></small>
      </div>
      <div class="col-lg-4 col-md-4">
        <div class="form-group">
          <select class="form-control dropdown" name="BrandID" ngModel>
                    <option>Select</option>
                      <option *ngFor = "let brand of brandList?.BrandList" ngValue="{{brand.ID}}">{{ brand.Name }}</option>
                  </select>
        </div>
      </div>
      <div class="col-lg-2 col-md-2 col-sm-4 col-xs-5 form-control-label">
        <small><b>Main Category</b></small>
      </div>
      <div class="col-lg-4 col-md-4">
        <div class="form-group">
          <select class="form-control dropdown" (change)="onSelectMainCategory($event.target.value)" name="MasterCatID" ngModel>
                    <option>Select</option>
                      <option *ngFor = "let mainCat of mainCategory?.CategoryList" ngValue="{{mainCat.ID}}">{{ mainCat.Name }}</option>
                  </select>
        </div>
      </div>
    </div>
    <div class="row clearfix">
      <div class="col-lg-2 col-md-2 col-sm-4 col-xs-5 form-control-label">
        <small><b>Category</b></small>
      </div>
      <div class="col-lg-4 col-md-4">
        <div class="form-group">
          <select class="form-control dropdown" (change)="onSelectCategory($event.target.value)" name="CatID" ngModel>
                  <option>Select</option>
                    <option *ngFor = "let subCat of getSubCatList?.CategoryList"  ngValue="{{subCat.ID}}">{{ subCat.Name }}</option>
                </select>
        </div>
      </div>
      <div class="col-lg-2 col-md-2 col-sm-4 col-xs-5 form-control-label">
        <small><b>Tag</b></small>
      </div>
      <div class="col-lg-4 col-md-4 ">
        <div class="form-group">
          <div class="form-line">
            <input type="text" name="Tag" class="form-control input_fix" ngModel>
          </div>
        </div>
      </div>
    </div>
    <div class="row clearfix">
      <div class="col-md-12">
        <button class="btn bg-green btn-block btn-lg" type="submit">Product Form</button>
      </div>
    </div>
  </form>
</div>
<!-- Product General Form End -->

<!-- Product Form Start -->
<div *ngIf="showProductForm">
  <form #productForm="ngForm" (ngSubmit)="productFormData(productForm)">
    <h5>
      <u>Product Form</u>
    </h5>
    <div class="row clearfix">
      <div *ngFor="let form of productMainForm?.FormList; let i = index">
        <div class="col-lg-2 col-md-2 col-sm-4 col-xs-5 form-control-label">
          <small><b>{{ form.ElementName}}</b></small>
        </div>
        <div class="col-lg-4 col-md-4" *ngIf="form?.Type == 1">
          <div class="form-group">
            <div class="form-line">
              <input type="text" name="{{form.FormID}}" class="form-control input_fix" ngModel>
            </div>
          </div>
        </div>
        <div class="col-lg-4 col-md-4" *ngIf="form?.Type == 2">
          <select class="form-control dropdown" name="{{form.FormID}}" ngModel>
              <ng-container *ngFor="let droplist of productMainForm?.List">
                 <option *ngIf="form.FormID == droplist.FormID" ngValue="{{droplist.DropdownID}}" >{{droplist.DropdownName}}</option>
              </ng-container>
            </select>
        </div>
      </div>
    </div>
    <div class="row clearfix">
      <div class="col-md-12">
        <button class="btn bg-green btn-block btn-lg" type="submit">Add Insurance</button>
      </div>
    </div>
  </form>
</div>
<!-- Product Form End -->

<!-- Insurance Form Start -->
<div *ngIf="showInsuranceForm">
  <form #insuranceForm="ngForm" (ngSubmit)="insuranceFormData(insuranceForm)">
    <h4>
      <u>Insurance</u>
      <u>Form </u>
    </h4>
    <hr>
    <div class="row clearfix">
      <div class="col-lg-2 col-md-2 col-sm-4 col-xs-5 form-control-label">
        <small><b>Insurance Image</b></small>
      </div>
      <div class="col-lg-4 col-md-4 ">
        <div class="form-group">
          <div class="form-line">
            <input type="text" name="InsuranceImage" class="form-control input_fix" ngModel>
          </div>
        </div>
      </div>
    </div>
    <div class="row clearfix">
      <div class="col-lg-2 col-md-2 col-sm-4 col-xs-5 form-control-label">
        <small><b>Plan</b></small>
      </div>
      <div class="col-lg-4 col-md-4">
        <div class="form-group">
          <div class="form-line">
            <input type="text" name="Plan" class="form-control input_fix" ngModel>
          </div>
        </div>
      </div>
      <div class="col-lg-2 col-md-2 col-sm-4 col-xs-5 form-control-label">
        <small><b>Policy No.</b></small>
      </div>
      <div class="col-lg-4 col-md-4 ">
        <div class="form-group">
          <div class="form-line">
            <input type="text" name="PolicyNo" class="form-control input_fix" ngModel>
          </div>
        </div>
      </div>
    </div>
    <div class="row clearfix">
      <div class="col-lg-2 col-md-2 col-sm-4 col-xs-5 form-control-label">
        <small><b>Amount Insured</b></small>
      </div>
      <div class="col-lg-4 col-md-4">
        <div class="form-group">
          <div class="form-line">
            <input type="text" name="AmountInsured" class="form-control input_fix" ngModel>
          </div>
        </div>
      </div>
      <div class="col-lg-2 col-md-2 col-sm-4 col-xs-5 form-control-label">
        <small><b>Premium Type</b></small>
      </div>
      <div class="col-lg-4 col-md-4">
        <div class="form-group">
          <div class="form-line">
            <input type="text" name="PremiumType" class="form-control input_fix" ngModel>
          </div>
        </div>
      </div>
    </div>
    <div class="row clearfix">
      <div class="col-lg-2 col-md-2 col-sm-4 col-xs-5 form-control-label">
        <small><b>Premium Amount</b></small>
      </div>
      <div class="col-lg-4 col-md-4 ">
        <div class="form-group">
          <div class="form-line">
            <input type="text" name="PremiumAmount" class="form-control input_fix" ngModel>
          </div>
        </div>
      </div>
      <div class="col-lg-2 col-md-2 col-sm-4 col-xs-5 form-control-label">
        <small><b>Policy Effective Date</b></small>
      </div>
      <div class="col-lg-4 col-md-4">
        <div class="form-group">
          <div class="form-line">
            <input type="text" name="PolicyEffectiveDate" class="form-control input_fix" ngModel>
          </div>
        </div>
      </div>
    </div>
    <div class="row clearfix">
      <div class="col-lg-2 col-md-2 col-sm-4 col-xs-5 form-control-label">
        <small><b>Policy Expiry Date</b></small>
      </div>
      <div class="col-lg-4 col-md-4 ">
        <div class="form-group">
          <div class="form-line">
            <input type="text" name="PolicyExpireDate" class="form-control input_fix" ngModel>
          </div>
        </div>
      </div>
    </div>
    <div class="row clearfix">
      <div class="col-lg-2 col-md-2 col-sm-4 col-xs-5 form-control-label">
        <small><b>Inclusions</b></small>
      </div>
      <div class="col-lg-4 col-md-4">
        <div class="form-group">
          <select class="form-control dropdown" name="Inclusions" ngModel>
                <option *ngFor="let list of inclusionList?.InclusionsList" ngValue="{{list.ID}}">{{ list.Name}}</option>
              </select>
        </div>
      </div>
      <div class="col-lg-2 col-md-2 col-sm-4 col-xs-5 form-control-label">
        <small><b>Exclusions</b></small>
      </div>
      <div class="col-lg-4 col-md-4 ">
        <div class="form-group">
          <select class="form-control dropdown" name="Exclusions" ngModel>
            <option *ngFor="let list of exclusionList?.ExclusionsList" ngValue="{{list.ID}}">{{ list.Name}}</option>
          </select>
        </div>
      </div>
    </div>
    <div class="row clearfix">
      <div class="col-lg-2 col-md-2 col-sm-4 col-xs-5 form-control-label">
        <small><b>Type</b></small>
      </div>
      <div class="col-lg-4 col-md-4">
        <div class="form-group">
          <select class="form-control dropdown" (change)="selectType($event.target.value)">
                  <option value="brand">Brand</option>
                  <option value="seller">Seller</option>
              </select>
        </div>
      </div>
      <div *ngIf="selectDropdown == 'brand'">
        <div class="col-lg-2 col-md-2 col-sm-4 col-xs-5 form-control-label">
          <small><b>Brand</b></small>
        </div>
        <div class="col-lg-4 col-md-4 ">
          <div class="form-group">
            <select class="form-control dropdown" name="BrandID" ngModel>
              <option *ngFor="let list of brandList?.BrandList" ngValue="{{list.ID}}">{{ list.Name}}</option>
            </select>
          </div>
        </div>
      </div>
      <div *ngIf="selectDropdown == 'seller'">
        <div class="col-lg-2 col-md-2 col-sm-4 col-xs-5 form-control-label">
          <small><b>Select Seller</b></small>
        </div>
        <div class="col-lg-4 col-md-4 ">
          <div class="form-group">
            <select class="form-control dropdown" name="SellerInfo" ngModel>
              <option *ngFor="let list of offlineSellerList?.OfflineSellerList" ngValue="{{list.ID}}">{{ list.Name}}</option>
            </select>
          </div>
        </div>
      </div>
    </div>
    <div class="row clearfix">
      <div class="col-md-8">
        <button class="btn bg-green btn-block btn-lg" type="submit">Add Insurance</button>
      </div>
      <div class="col-md-4">
        <button class="btn bg-orange btn-block btn-lg" (click)="skip()">Skip</button>
      </div>
    </div>
  </form>
</div>
<!-- Insurance Form End -->
